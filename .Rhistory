length(transform(cr))
summary(transform(cr))
?summary
class(cr[1])
class(cr)
as.data.frame(cr)
summary(as.data.frame(cr))
?vector
vec <- vector(mode="numeric")
vec<-vector()
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
vec <- vector(mode="numeric", length = 0)
vec <- vector(mode = "numeric", length = 0)
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
cr <- corr("specdata")
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
cr <- corr("specdata", 1000)
summary(cr)
cr <- corr("specdata", 400)
summary(cr)
head(cr)
cr <- corr("specdata", 150)
test_dir
?test_dir
test_dir(".")
source('~/R/Coursera/assignments/rprog-1/tests/testthat/test-complete.R')
test_that("bla", {
expect_that(1, equals(0))
})
test_that("bla", {
expect_that(1, equals(0))
})
library(testthat)
test_that("bla", {
expect_that(1, equals(0))
})
source(File.path("..", "..", "pollutantmean.R"))
library(testthat)
test_that("bla", {
expect_that(1, equals(0))
})
source('~/R/Coursera/assignments/rprog-1/tests/testthat/test-pollutantmean.R')
source('~/R/Coursera/assignments/rprog-1/tests/testthat/test-pollutantmean.R')
source('~/R/Coursera/assignments/rprog-1/tests/testthat/test-pollutantmean.R')
source('~/R/Coursera/assignments/rprog-1/tests/testthat/test-pollutantmean.R')
source(file.path("corr.R"))
library(testthat)
test_that("corr('specdata') returns correct results", {
expect_that(length(corr('specdata')), equals(323))
})
cr
summary(cr)
class(summary(cr))
summary(cr)['Min.']
summary(cr)[1]
summary(cr)[2]
expect_that(summary(corr('specdata'), 150)[1], equals(-0.2110))
summary(cr)[6]
?"testthat"
?expect_that
?describe
expect_that(summary(corr('specdata'), 150)[1], equals(-0.2110))
expect_that(summary(corr('specdata'), 150)[2], equals(-0.0500))
expect_that(summary(corr('specdata'), 150)[3], equals(-0.0946))
summary(cr)[1]
class(summary(cr)[1])
class(as.numeric(summary(cr)[1]))
as.numeric(summary(cr)[1])
summary(cr)[1]
length(summary(cr)[1])
cr
min(cr)
R CMD check
check()
?check
getwd()
check('.')
median(cr)
mean(cr)
max(cr)
?median
?summary
test_that("corr('specdata', 150) returns correct results", {
cr <- corr('specdata', 150)
expect_that(min(cr), equals(-0.2110))
expect_that(median(cr)[3], equals(-0.0946))
expect_that(mean(cr)[4], equals(-0.1250))
expect_that(max(cr), equals(-0.7630))
})
expect_that(min(cr), equals(-0.2110))
expect_that(median(cr), equals(-0.0946))
expect_that(mean(cr), equals(-0.1250))
expect_that(max(cr), equals(-0.7630))
expect_that(min(cr), equals(-0.2110))
expect_that(median(cr), equals(0.0946))
expect_that(mean(cr), equals(0.1250))
expect_that(max(cr), equals(0.7630))
?"expect-compare"
?round
min(cr)
round(min(cr), digits=3)
expect_that(round(min(cr), digits = 3), equals(-0.211))
expect_that(round(median(cr), digits = 3), equals(0.095))
expect_that(round(mean(cr), digits = 3), equals(0.125))
expect_that(round(max(cr), digits = 3), equals(0.763))
expect_that(round(min(cr), digits = 3), equals(-0.311))
expect_that(round(median(cr), digits = 3), equals(0.095))
expect_that(round(mean(cr), digits = 3), equals(0.125))
expect_that(round(max(cr), digits = 3), equals(0.763))
})
expect_that(round(min(cr), digits = 3), equals(-0.311))
expect_that(round(median(cr), digits = 3), equals(0.095))
expect_that(round(mean(cr), digits = 3), equals(0.125))
expect_that(round(max(cr), digits = 3), equals(0.763))
expect_that(round(min(cr), digits = 3), equals(-0.211))
expect_that(round(median(cr), digits = 3), equals(0.095))
expect_that(round(mean(cr), digits = 3), equals(0.125))
expect_that(round(max(cr), digits = 3), equals(0.763))
expect_that(min(cr), equals(-0.211))
expect_that(quantile(cr)['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quantile(cr)['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
library(testthat)
expect_that(min(cr), equals(-0.211))
expect_that(quantile(cr)['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quantile(cr)['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
head(cr)
head(cr)[1]
head(cr)[2]
head <- head(cr)
expect_that(head[1], equals(-0.01896))
expect_that(head[2], equals(-0.14051))
expect_that(head[3], equals(-0.04390))
expect_that(head[4], equals(-0.06816))
expect_that(head[5], equals(-0.12351))
expect_that(head[6], equals(-0.07589))
quant <- quantile(cr)
expect_that(min(cr), equals(-0.211))
expect_that(quant['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quant['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
source("corr.R")
context("Correlation")
test_that("corr('specdata') returns correct results", {
cr <- corr('specdata')
expect_that(length(cr), equals(323))
})
test_that("corr('specdata', 150) returns correct results", {
cr <- corr('specdata', 150)
head <- head(cr)
expect_that(head[1], equals(-0.01896))
expect_that(head[2], equals(-0.14051))
expect_that(head[3], equals(-0.04390))
expect_that(head[4], equals(-0.06816))
expect_that(head[5], equals(-0.12351))
expect_that(head[6], equals(-0.07589))
quant <- quantile(cr)
expect_that(min(cr), equals(-0.211))
expect_that(quant['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quant['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
})
library(testthat)
source("corr.R")
context("Correlation")
test_that("corr('specdata') returns correct results", {
cr <- corr('specdata')
expect_that(length(cr), equals(323))
})
test_that("corr('specdata', 150) returns correct results", {
cr <- corr('specdata', 150)
head <- head(cr)
expect_that(head[1], equals(-0.01896))
expect_that(head[2], equals(-0.14051))
expect_that(head[3], equals(-0.04390))
expect_that(head[4], equals(-0.06816))
expect_that(head[5], equals(-0.12351))
expect_that(head[6], equals(-0.07589))
quant <- quantile(cr)
expect_that(min(cr), equals(-0.211))
expect_that(quant['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quant['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
})
cr <- corr('specdata', 1000)
View(file)
View(cor_total)
View(cor_total)
cr
head(1)
head(cr)
head(cr)[1]
expect_that(head(cr)[1], equals(-0.01896))
cor_file <- cor(file$nitrate, file$sulfate)
interesting_files <- complete_cases[complete_cases$nobs > threshold, ]$id
files <- list.files(directory, full.names = TRUE)
cor_total <- vector(mode="numeric", length=0)
for (i in interesting_files){
file <- na.omit(read.csv(files[i]))
cor_file <- cor(file$nitrate, file$sulfate)
cor_total <- rbind(cor_total, cor_file)
}
cor_total
source('~/R/Coursera/assignments/rprog-1/corr.R')
?cor
cr
apply(cr, 2, function(x) round(x, digits=5))
source('~/R/Coursera/assignments/rprog-1/corr.R')
test_that("corr('specdata', 150) returns correct results", {
cr <- corr('specdata', 150)
head <- head(cr)
expect_that(head[1], equals(-0.01896))
expect_that(head[2], equals(-0.14051))
expect_that(head[3], equals(-0.04390))
expect_that(head[4], equals(-0.06816))
expect_that(head[5], equals(-0.12351))
expect_that(head[6], equals(-0.07589))
quant <- quantile(cr)
expect_that(min(cr), equals(-0.211))
expect_that(quant['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quant['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
})
cr <- corr('specdata', 150)
View(file)
source('~/R/Coursera/assignments/rprog-1/corr.R')
file
cor(file$nitrate, file$sulfate)
round(cor(file$nitrate, file$sulfate), digits=5)
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
cr <- corr('specdata', 150)
cr
head <- head(cr)
expect_that(head[1], equals(-0.01896))
expect_that(head[2], equals(-0.14051))
expect_that(head[3], equals(-0.04390))
expect_that(head[4], equals(-0.06816))
expect_that(head[5], equals(-0.12351))
expect_that(head[6], equals(-0.07589))
quant <- quantile(cr)
expect_that(min(cr), equals(-0.211))
expect_that(quant['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quant['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
min(cr)
round(min(cr), digits=3)
head <- head(cr)
expect_that(head[1], equals(-0.01896))
expect_that(head[2], equals(-0.14051))
expect_that(head[3], equals(-0.04390))
expect_that(head[4], equals(-0.06816))
expect_that(head[5], equals(-0.12351))
expect_that(head[6], equals(-0.07589))
quant <- quantile(cr)
expect_that(min(cr), equals(-0.211))
expect_that(quant['25%'], equals(-0.050))
expect_that(median(cr), equals(0.095))
expect_that(mean(cr), equals(0.125))
expect_that(quant['75%'], equals(0.268))
expect_that(max(cr), equals(0.763))
round(min(cr), digits=3)
expect_that(round(min(cr), digits=3), equals(-0.211))
expect_that(round(min(cr), digits=3), equals(-0.231))
expect_that(round(min(cr), digits=3), equals(-0.211))
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
file$nitrate
file['nitrate']
file['nitrate'] == file$nitrate
file$nitrate
file['nitrate']
source('~/R/Coursera/assignments/rprog-1/corr.R')
cr <- corr('specdata', 150)
head(cr)
summary(cr)
source('~/R/Coursera/assignments/rprog-1/corr.R')
cr <- corr('specdata', 150)
head(cr)
summary(cr)
source('~/R/Coursera/assignments/rprog-1/corr.R')
cr <- corr('specdata', 150)
head(cr)
summary(cr)
source('~/R/Coursera/assignments/rprog-1/corr.R')
cr <- corr('specdata', 150)
source('~/R/Coursera/assignments/rprog-1/corr.R')
getwd()
test_dir("tests")
test_dir("tests/testthat")
test_dir("tests/testthat")
library(testthat)
options(testthat.use_colours = TRUE)
test_check("testthat")
getwd()
test_file("tests/testthat/test-corr.R")
library(testthat)
options(testthat.use_colours = TRUE)
#test_check("testthat")
wd <- "/home/florian/R/Coursera/assignments/rprog-1"
auto_test(wd, file.path(wd, "tests/testthat"))
getwd()
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
wd <- "/home/florian/R/Coursera/assignments/rprog-1"
auto_test(wd, file.path(wd, "tests/testthat"))
source('~/R/Coursera/assignments/rprog-1/corr.R')
auto_test(wd, file.path(wd, "tests/testthat"))
wd <- "/home/florian/R/Coursera/assignments/rprog-1"
auto_test(wd, file.path(wd, "tests/testthat"))
file.exists("/home/florian/R/Coursera/assignments/1prog-1/complete.R")
file.exists("/home/florian/R/Coursera/assignments/rprog-1/complete.R")
source('~/R/Coursera/assignments/rprog-1/corr.R')
library(testthat)
options(testthat.use_colours = TRUE)
#test_check("testthat")
wd <- "/home/florian/R/Coursera/assignments/rprog-1"
auto_test(wd, file.path(wd, "tests/testthat"))
library(testthat)
options(testthat.use_colours = TRUE)
#test_check("testthat")
wd <- "/home/florian/R/Coursera/assignments/rprog-1"
auto_test(wd, file.path(wd, "tests/testthat"))
library(testthat)
options(testthat.use_colours = TRUE)
#test_check("testthat")
wd <- "/home/florian/R/Coursera/assignments/rprog-1"
auto_test(wd, file.path(wd, "tests/testthat"))
debugSource('~/R/Coursera/assignments/rprog-1/complete.R')
debugSource('~/R/Coursera/assignments/rprog-1/complete.R')
library(testthat)
options(testthat.use_colours = TRUE)
#test_check("testthat")
wd <- "/home/florian/R/Coursera/assignments/rprog-1"
auto_test(wd, file.path(wd, "tests/testthat"))
## Return a numeric vector of correlations
## NOTE: Do not round the result!
corr <- function(directory, threshold = 0) {
complete_cases <- complete(directory)
interesting_files <- complete_cases[complete_cases$nobs > threshold, ]$id
files <- list.files(directory, full.names = TRUE)
cor_total <- vector(mode="numeric", length=0)
for (i in interesting_files){
file <- na.omit(read.csv(files[i]))
cor_file <- cor(file$nitrate, file$sulfate)
cor_total <- rbind(cor_total, cor_file)
}
cor_total
}
cr<-corr('specdata', 1000)
cr
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
test_dir('.')
library(testthat)
test_dir('.')
t
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
?all.equal
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
library(testthat)
source("corr.R")
context("Correlation")
equals_round <- function (y, z) {
function(x) {
expectation(
all.equal(round(x, z), y),
paste(x, "not equal to", y, "rounded to", z, ".")
)
}
}
test_that("corr('specdata', 150) returns correct results", {
cr <- corr('specdata', 150)
head <- head(cr)
expect_that(head[1], equals_round(-0.01896, 5))
expect_that(head[2], equals_round(-0.14051, 5))
expect_that(head[3], equals_round(-0.04390, 5))
expect_that(head[4], equals_round(-0.06816, 5))
expect_that(head[5], equals_round(-0.12351, 5))
expect_that(head[6], equals_round(-0.07589, 5))
quant <- quantile(cr)
expect_that(round(min(cr), digits=3), equals(-0.211))
expect_that(round(quant['25%'], digits=3), equals(-0.050))
expect_that(round(median(cr), digits=3), equals(0.095))
expect_that(round(mean(cr), digits=3), equals(0.125))
expect_that(round(quant['75%'], digits=3), equals(0.268))
expect_that(round(max(cr), digits=3), equals(0.763))
})
expect_that(min(cr), equals_round(-0.211, 3))
expect_that(quant['25%'], equals_round(-0.050, 3))
expect_that(median(cr), equals_round(0.095, 3))
expect_that(mean(cr), equals_round(0.125, 3))
expect_that(quant['75%'], equals_round(0.268, 3))
expect_that(max(cr), equals_round(0.763, 3))
head <- head(cr)
expect_that(head[1], equals_round(-0.01896, 5))
expect_that(head[2], equals_round(-0.14051, 5))
expect_that(head[3], equals_round(-0.04390, 5))
expect_that(head[4], equals_round(-0.06816, 5))
expect_that(head[5], equals_round(-0.12351, 5))
expect_that(head[6], equals_round(-0.07589, 5))
quant <- quantile(cr)
expect_that(min(cr), equals_round(-0.211, 3))
expect_that(quant['25%'], equals_round(-0.050, 3))
expect_that(median(cr), equals_round(0.095, 3))
expect_that(mean(cr), equals_round(0.125, 3))
expect_that(quant['75%'], equals_round(0.268, 3))
expect_that(max(cr), equals_round(0.763, 3))
head <- head(cr)
expect_that(head[1], equals_round(-0.01896, 5))
expect_that(head[2], equals_round(-0.14051, 5))
expect_that(head[3], equals_round(-0.04390, 5))
expect_that(head[4], equals_round(-0.06816, 5))
expect_that(head[5], equals_round(-0.12351, 5))
expect_that(head[6], equals_round(-0.07589, 5))
all.equal(round(-0.411231, 5), 0.2)
all.equal(3,2)
library(testthat)
source("corr.R")
context("Correlation")
equals_round <- function(y, z) {
function(x) {
expectation(
all.equal(round(x, z), y),
paste(x, "not equal to", y, "rounded to", z, ".")
)
}
}
test_that("corr('specdata') returns correct results", {
cr <- corr('specdata')
expect_that(length(cr), equals(323))
})
test_that("corr('specdata', 150) returns correct results", {
cr <- corr('specdata', 150)
head <- head(cr)
expect_that(head[1], equals_round(-0.01896, 5))
expect_that(head[2], equals_round(-0.14051, 5))
expect_that(head[3], equals_round(-0.04390, 5))
expect_that(head[4], equals_round(-0.06816, 5))
expect_that(head[5], equals_round(-0.12351, 5))
expect_that(head[6], equals_round(-0.07589, 5))
quant <- quantile(cr)
expect_that(min(cr), equals_round(-0.211, 3))
expect_that(quant['25%'], equals_round(-0.050, 3))
expect_that(median(cr), equals_round(0.095, 3))
expect_that(mean(cr), equals_round(0.125, 3))
expect_that(quant['75%'], equals_round(0.268, 3))
expect_that(max(cr), equals_round(0.763, 3))
})
quant["25%"]
class(quant["25%"])
quant["25%"]+1
expect_that(quant["25%"], equals_round(-0.05, 3))
library(testthat)
source("corr.R")
context("Correlation")
equals_round <- function(y, z) {
function(x) {
equals(round(x, z), y)
}
}
test_that("corr('specdata') returns correct results", {
cr <- corr('specdata')
expect_that(length(cr), equals(323))
})
test_that("corr('specdata', 150) returns correct results", {
cr <- corr('specdata', 150)
head <- head(cr)
expect_that(head[1], equals_round(-0.01896, 5))
expect_that(head[2], equals_round(-0.14051, 5))
expect_that(head[3], equals_round(-0.04390, 5))
expect_that(head[4], equals_round(-0.06816, 5))
expect_that(head[5], equals_round(-0.12351, 5))
expect_that(head[6], equals_round(-0.07589, 5))
quant <- quantile(cr)
expect_that(min(cr), equals_round(-0.211, 3))
expect_that(quant['25%'], equals_round(-0.050, 3))
expect_that(median(cr), equals_round(0.095, 3))
expect_that(mean(cr), equals_round(0.125, 3))
expect_that(quant['75%'], equals_round(0.268, 3))
expect_that(max(cr), equals_round(0.763, 3))
})
debugSource('~/R/Coursera/assignments/rprog-1/test-corr.R')
debugSource('~/R/Coursera/assignments/rprog-1/test-corr.R')
source('~/R/Coursera/assignments/rprog-1/test-corr.R')
